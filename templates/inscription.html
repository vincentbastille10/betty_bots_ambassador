{% extends "base.html" %}
{% block content %}

<div style="max-width:960px;margin:32px auto;padding:0 1.5rem;color:#e5e7eb;">

  <!-- HERO / TITRE -->
  <header style="text-align:left;margin-bottom:24px;">
    <h1 style="
      font-size:clamp(2rem,3vw,2.6rem);
      margin:0 0 8px;
      letter-spacing:-0.03em;
    ">
      Devenez ambassadeur <span style="color:#38bdf8;">Betty&nbsp;Bot</span>
    </h1>
    <p style="margin:0;font-size:0.98rem;opacity:.9;max-width:640px;">
      Recommandez Betty √† votre r√©seau (avocats, m√©decins, artisans, th√©rapeutes, agences‚Ä¶)
      et touchez des commissions r√©currentes sur chaque abonnement actif.
    </p>
  </header>

  <!-- CADRE COMMISSIONS + EXEMPLES -->
  <section style="
    margin-bottom:26px;
    padding:18px 20px;
    border-radius:18px;
    border:1px solid rgba(148,163,184,0.7);
    background:radial-gradient(circle at top left,#0ea5e944,#6366f144 40%,#020617 92%);
  ">
    <h2 style="margin:0 0 10px;font-size:1.15rem;">
      üí∏ Comment vous √™tes r√©mun√©r√©&nbsp;?
    </h2>

    <p style="margin:0 0 10px;font-size:0.96rem;opacity:.9;">
      Pour chaque <strong>abonnement Betty √† 79,90&nbsp;‚Ç¨ / mois</strong) vendu gr√¢ce √† votre lien ambassadeur&nbsp;:
    </p>

    <ul style="margin:0 0 14px 18px;padding:0;font-size:0.95rem;">
      <li>
        <strong>30&nbsp;% sur les 79,90&nbsp;‚Ç¨ de premi√®re inscription</strong>
        &nbsp;‚Üí soit <strong>23,97&nbsp;‚Ç¨</strong> vers√©s une fois, d√®s la vente.
      </li>
      <li>
        <strong>10&nbsp;‚Ç¨ par mois</strong> tant que le client reste abonn√©.
      </li>
    </ul>

    <!-- Exemple 1 -->
    <div style="
      margin-top:4px;
      padding:10px 12px;
      border-radius:14px;
      background:rgba(15,23,42,0.9);
      border:1px dashed rgba(148,163,184,0.9);
      font-size:0.9rem;
    ">
      <div style="font-weight:600;margin-bottom:6px;">
        Exemple 1&nbsp;: <strong>1 abonnement vendu par semaine</strong>
        (on simplifie √† 4 semaines par mois ‚Üí 24 ventes en 6&nbsp;mois)
      </div>
      <ul style="margin:0 0 4px 18px;padding:0;">
        <li>Prime d‚Äôinscription&nbsp;: 23,97&nbsp;‚Ç¨ √ó 24 ‚âà <strong>575&nbsp;‚Ç¨</strong></li>
        <li>Revenus mensuels&nbsp;: 10&nbsp;‚Ç¨ √ó 6&nbsp;mois √ó 24 ventes = <strong>1&nbsp;440&nbsp;‚Ç¨</strong></li>
      </ul>
      <div>
        üëâ <strong>Total sur 6 mois ‚âà 2&nbsp;015&nbsp;‚Ç¨</strong>
        si tous les abonnements restent actifs.
      </div>
    </div>

    <!-- Exemple 2 -->
    <div style="
      margin-top:10px;
      padding:10px 12px;
      border-radius:14px;
      background:rgba(17,24,39,0.9);
      border:1px dashed rgba(129,140,248,0.95);
      font-size:0.9rem;
    ">
      <div style="font-weight:600;margin-bottom:6px;">
        Exemple 2&nbsp;: <strong>5 abonnements vendus par semaine</strong>
        (‚âà 120 ventes en 6&nbsp;mois)
      </div>
      <ul style="margin:0 0 4px 18px;padding:0;">
        <li>Prime d‚Äôinscription&nbsp;: 23,97&nbsp;‚Ç¨ √ó 120 ‚âà <strong>2&nbsp;876&nbsp;‚Ç¨</strong></li>
        <li>Revenus mensuels&nbsp;: 10&nbsp;‚Ç¨ √ó 6&nbsp;mois √ó 120 ventes = <strong>7&nbsp;200&nbsp;‚Ç¨</strong></li>
      </ul>
      <div>
        üëâ <strong>Total sur 6 mois ‚âà 10&nbsp;076&nbsp;‚Ç¨</strong>
        si tous les abonnements restent actifs.
      </div>
    </div>

    <p style="margin:10px 0 0;font-size:0.82rem;opacity:.75;">
      Ces montants sont donn√©s √† titre indicatif, en supposant que tous les abonnements restent actifs pendant 6&nbsp;mois.
    </p>
  </section>

  <!-- FORMULAIRE D'INSCRIPTION -->
  <section style="
    display:flex;
    flex-wrap:wrap;
    gap:18px;
    align-items:flex-start;
  ">

    <div style="
      flex:1 1 320px;
      max-width:480px;
      border-radius:18px;
      border:1px solid rgba(30,64,175,0.7);
      background:rgba(15,23,42,0.96);
      padding:18px 20px 20px;
      box-shadow:0 18px 40px rgba(15,23,42,0.8);
    ">
      <h2 style="margin:0 0 12px;font-size:1.05rem;">
        ‚úçÔ∏è Inscription ambassadeur
      </h2>
      <p style="margin:0 0 12px;font-size:0.9rem;opacity:.8;">
        Remplissez ce formulaire, vous recevrez imm√©diatement votre
        <strong>lien personnel</strong> et l‚Äôacc√®s √† votre <strong>dashboard</strong>.
      </p>

      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          <div style="margin-bottom:10px;">
            {% for category, message in messages %}
              <div style="
                padding:8px 10px;
                border-radius:10px;
                font-size:0.86rem;
                margin-bottom:6px;
                {% if category == 'error' %}
                  background:rgba(185,28,28,0.12);
                  border:1px solid rgba(248,113,113,0.6);
                  color:#fecaca;
                {% else %}
                  background:rgba(21,128,61,0.12);
                  border:1px solid rgba(74,222,128,0.7);
                  color:#bbf7d0;
                {% endif %}
              ">
                {{ message }}
              </div>
            {% endfor %}
          </div>
        {% endif %}
      {% endwith %}

      <form method="post" action="{{ url_for('inscription') }}" style="display:flex;flex-direction:column;gap:10px;">

        <div>
          <label for="name" style="font-size:0.88rem;display:block;margin-bottom:2px;">
            Nom / Pr√©nom
          </label>
          <input
            type="text"
            id="name"
            name="name"
            required
            style="
              width:100%;
              padding:9px 10px;
              border-radius:10px;
              border:1px solid rgba(148,163,184,0.8);
              background:#020617;
              color:#e5e7eb;
              font-size:0.92rem;
            "
          >
        </div>

        <div>
          <label for="email" style="font-size:0.88rem;display:block;margin-bottom:2px;">
            Email
          </label>
          <input
            type="email"
            id="email"
            name="email"
            required
            style="
              width:100%;
              padding:9px 10px;
              border-radius:10px;
              border:1px solid rgba(148,163,184,0.8);
              background:#020617;
              color:#e5e7eb;
              font-size:0.92rem;
            "
          >
        </div>

        <div>
          <label for="payout_method" style="font-size:0.88rem;display:block;margin-bottom:2px;">
            Mode de versement pr√©f√©r√©
          </label>
          <select
            id="payout_method"
            name="payout_method"
            required
            style="
              width:100%;
              padding:9px 10px;
              border-radius:10px;
              border:1px solid rgba(148,163,184,0.8);
              background:#020617;
              color:#e5e7eb;
              font-size:0.9rem;
            "
          >
            <option value="">S√©lectionnez‚Ä¶</option>
            <option value="iban">Virement bancaire (IBAN)</option>
            <option value="paypal">Adresse PayPal</option>
            <option value="stripe">Compte Stripe / lien de paiement</option>
          </select>
        </div>

        <div>
          <label for="payout_details" style="font-size:0.88rem;display:block;margin-bottom:2px;">
            D√©tails pour le versement
          </label>
          <textarea
            id="payout_details"
            name="payout_details"
            rows="3"
            required
            style="
              width:100%;
              padding:9px 10px;
              border-radius:10px;
              border:1px solid rgba(148,163,184,0.8);
              background:#020617;
              color:#e5e7eb;
              font-size:0.9rem;
              resize:vertical;
            "
            placeholder="IBAN complet, ou adresse PayPal, ou identifiant Stripe‚Ä¶"
          ></textarea>
        </div>

        <button type="submit"
          style="
            margin-top:6px;
            padding:10px 16px;
            border-radius:999px;
            border:none;
            background:linear-gradient(90deg,#0ea5e9,#6366f1,#ec4899);
            color:#f9fafb;
            font-weight:600;
            font-size:0.98rem;
            cursor:pointer;
            box-shadow:0 14px 30px rgba(37,99,235,0.6);
          ">
          Cr√©er mon compte ambassadeur
        </button>

        <p style="margin:6px 0 0;font-size:0.78rem;opacity:.7;">
          En vous inscrivant, vous confirmez vouloir recevoir des informations sur vos ventes et paiements.
        </p>
      </form>
    </div>

    <!-- Panneau info / rappel lien -->
    <div style="
      flex:1 1 260px;
      min-width:260px;
      font-size:0.92rem;
      opacity:.9;
    ">
      <h3 style="margin:0 0 8px;font-size:1rem;">
        üéØ Votre mission en tant qu‚Äôambassadeur
      </h3>
      <p style="margin:0 0 8px;">
        ‚Ä¢ Partager votre <strong>lien personnel</strong> Betty Bot √† votre r√©seau.<br>
        ‚Ä¢ Utiliser les <strong>scripts fournis</strong> (t√©l√©phone, email, r√©seaux sociaux).<br>
        ‚Ä¢ Aider les pros √† comprendre que Betty <strong>r√©pond quand ils ne peuvent pas</strong>
        et <strong>transforme les visiteurs en clients √† rappeler</strong>.
      </p>
      <p style="margin:0 0 8px;">
        Vos commissions sont calcul√©es automatiquement √† partir des abonnements
        pass√©s via votre lien. Vous pouvez consulter vos ventes √† tout moment dans
        votre <strong>dashboard ambassadeur</strong>.
      </p>

      {% if link %}
        <div style="
          margin-top:14px;
          padding:10px 12px;
          border-radius:14px;
          border:1px solid rgba(52,211,153,0.8);
          background:rgba(6,95,70,0.3);
          font-size:0.9rem;
        ">
          <div style="font-weight:600;margin-bottom:4px;">‚úÖ Inscription r√©ussie</div>
          <p style="margin:0 0 6px;">
            Voici le lien vers votre <strong>dashboard ambassadeur</strong>&nbsp;:
          </p>
          <p style="margin:0 0 8px;word-break:break-all;">
            <a href="{{ link }}" style="color:#6ee7b7;text-decoration:underline;">
              {{ link }}
            </a>
          </p>
          <p style="margin:0;font-size:0.8rem;opacity:.9;">
            Pensez √† l‚Äôenregistrer (favoris) : c‚Äôest l√† que vous verrez vos ventes,
            vos commissions et les scripts pour convaincre vos clients.
          </p>
        </div>
      {% endif %}
    </div>

  </section>
</div>

{% endblock %}
